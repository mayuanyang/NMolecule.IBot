
<div class="panel panel-default">
    <div class="panel-heading">报价产品</div>
    <div class="panel-body">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>报价产品</th>
                    <th>今日报价次数</th>
                    <th>累计报价次数</th>
                    <th>开关</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            <tbody ng-repeat="qc in model.quoteCategories">
                <tr class="expandable" ng-if="!qc.isEditing && !qc.shouldBeDeleted">

                    <td>{{qc.name}}</td>
                    <td>{{qc.todayCounter}}</td>
                    <td>{{qc.counter}}</td>

                    <td>
                        <span ng-if="qc.isOn">开</span>
                        <span ng-if="!qc.isOn">关</span>

                    </td>
                    <td>
                        <div class="btn-group pull-right">
                            <button type="button" class="btn btn-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                参数设置 <span class="caret"></span>
                            </button>

                            <ul class="dropdown-menu">
                                <li><a ui-sref="admin.partSetting({qcid:'{{qc.id}}'})">部件设置</a></li>
                                <li><a ui-sref="admin.machinerySetting({qcid:'{{qc.id}}'})">机器设置</a></li>
                                <li><a ui-sref="admin.materialSetting({qcid:'{{qc.id}}'})">材料设置</a></li>
                                <li><a ui-sref="admin.technicsSetting({qcid:'{{qc.id}}'})">后工设置</a></li>
                                <li><a ui-sref="admin.profitSetting({qcid:'{{qc.id}}'})">利润设置</a></li>

                            </ul>
                            <button ng-if="!qc.isEditing" class="btn btn-warning" ng-click="qc.isEditing = true;">修改</button>
                        </div>
                        
                    </td>
                </tr>
                <tr ng-if="qc.isEditing && !m.shouldBeDeleted">
                    <td colspan="1">
                        <input type="text" class="form-control" aria-describedby="spName" placeholder="" ng-model="qc.name" required />
                    </td>
                    <td>{{qc.todayCounter}}</td>
                    <td>{{qc.counter}}</td>
                    <td>
                        <toggle-switch ng-model="qc.isOn" on-change="model.toggleSwitch(qc)" on-label="开" off-label="关"><toggle-switch>

                    </td>
                   
                    <td>
                        <div class="btn-group pull-right">
                            <button type="button" class="btn btn-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                参数设置 <span class="caret"></span>
                            </button>

                            <ul class="dropdown-menu">
                                <li><a ui-sref="admin.partSetting({qcid:'{{qc.id}}'})">部件设置</a></li>
                                <li><a ui-sref="admin.machinerySetting({qcid:'{{qc.id}}'})">机器设置</a></li>
                                <li><a ui-sref="admin.materialSetting({qcid:'{{qc.id}}'})">材料设置</a></li>
                                <li><a ui-sref="admin.technicsSetting({qcid:'{{qc.id}}'})">后工设置</a></li>
                                <li><a ui-sref="admin.profitSetting({qcid:'{{qc.id}}'})">利润设置</a></li>
                            </ul>
                            <button ng-if="qc.isEditing" class="btn" ng-click="qc.isEditing = false;">完成</button>
                        </div>
                        
                    </td>
                </tr>
            </tbody>

            <tr>
                <td colspan="5">
                    <div class="btn-group pull-right" role="group" aria-label="...">
                        <button class="btn btn-primary" ng-click="model.addNewItem()">添加</button>
                        <button class="btn btn-success" ng-click="model.save()">保存</button>
                    </div>
                    
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
